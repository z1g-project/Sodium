{
  "version": 3,
  "sources": ["../src/uv.handler.js"],
  "sourcesContent": ["/**\r\n * @type {import('../uv').UltravioletCtor}\r\n */\r\nconst Ultraviolet = self.Ultraviolet;\r\n\r\n/**\r\n * @type {import('../uv').UVClientCtor}\r\n */\r\nconst UVClient = self.UVClient;\r\n\r\n/**\r\n * @type {import('../uv').UVConfig}\r\n */\r\nconst __uv$config = self.__uv$config;\r\n\r\n/**\r\n * @type {import('@tomphttp/bare-client').BareManifest}\r\n */\r\nconst __uv$bareData = self.__uv$bareData;\r\n\r\n/**\r\n * @type {string}\r\n */\r\nconst __uv$bareURL = self.__uv$bareURL;\r\n\r\n/**\r\n * @type {string}\r\n */\r\nconst __uv$cookies = self.__uv$cookies;\r\n\r\nif (\r\n    typeof __uv$bareData !== 'object' ||\r\n    typeof __uv$bareURL !== 'string' ||\r\n    typeof __uv$cookies !== 'string'\r\n)\r\n    throw new TypeError('Unable to load global UV data');\r\n\r\nif (!self.__uv) __uvHook(self);\r\n\r\nself.__uvHook = __uvHook;\r\n\r\n/**\r\n *\r\n * @param {typeof globalThis} window\r\n * @returns\r\n */\r\nfunction __uvHook(window) {\r\n    if ('__uv' in window && window.__uv instanceof Ultraviolet) return false;\r\n\r\n    if (window.document && !!window.window) {\r\n        window.document\r\n            .querySelectorAll('script[__uv-script]')\r\n            .forEach((node) => node.remove());\r\n    }\r\n\r\n    const worker = !window.window;\r\n    const master = '__uv';\r\n    const methodPrefix = '__uv$';\r\n    const __uv = new Ultraviolet(__uv$config);\r\n\r\n    const OldWebSocket = WebSocket;\r\n\r\n    /*if (typeof config.construct === 'function') {\r\n        config.construct(__uv, worker ? 'worker' : 'window');\r\n    }*/\r\n\r\n    const client = new UVClient(window);\r\n    const {\r\n        HTMLMediaElement,\r\n        HTMLScriptElement,\r\n        HTMLAudioElement,\r\n        HTMLVideoElement,\r\n        HTMLInputElement,\r\n        HTMLEmbedElement,\r\n        HTMLTrackElement,\r\n        HTMLAnchorElement,\r\n        HTMLIFrameElement,\r\n        HTMLAreaElement,\r\n        HTMLLinkElement,\r\n        HTMLBaseElement,\r\n        HTMLFormElement,\r\n        HTMLImageElement,\r\n        HTMLSourceElement,\r\n    } = window;\r\n\r\n    client.nativeMethods.defineProperty(window, '__uv', {\r\n        value: __uv,\r\n        enumerable: false,\r\n    });\r\n\r\n    __uv.meta.origin = location.origin;\r\n    __uv.location = client.location.emulate(\r\n        (href) => {\r\n            if (href === 'about:srcdoc') return new URL(href);\r\n            if (href.startsWith('blob:')) href = href.slice('blob:'.length);\r\n            return new URL(__uv.sourceUrl(href));\r\n        },\r\n        (href) => {\r\n            return __uv.rewriteUrl(href);\r\n        }\r\n    );\r\n\r\n    let cookieStr = __uv$cookies;\r\n\r\n    __uv.meta.url = __uv.location;\r\n    __uv.domain = __uv.meta.url.host;\r\n    __uv.blobUrls = new window.Map();\r\n    __uv.referrer = '';\r\n    __uv.cookies = [];\r\n    __uv.localStorageObj = {};\r\n    __uv.sessionStorageObj = {};\r\n\r\n    // websockets\r\n    const bareClient = new Ultraviolet.BareClient();\r\n\r\n    __uv.bareClient = bareClient;\r\n\r\n    if (__uv.location.href === 'about:srcdoc') {\r\n        __uv.meta = window.parent.__uv.meta;\r\n    }\r\n\r\n    if (window.EventTarget) {\r\n        __uv.addEventListener = window.EventTarget.prototype.addEventListener;\r\n        __uv.removeListener = window.EventTarget.prototype.removeListener;\r\n        __uv.dispatchEvent = window.EventTarget.prototype.dispatchEvent;\r\n    }\r\n\r\n    // Storage wrappers\r\n    client.nativeMethods.defineProperty(\r\n        client.storage.storeProto,\r\n        '__uv$storageObj',\r\n        {\r\n            get() {\r\n                if (this === client.storage.sessionStorage)\r\n                    return __uv.sessionStorageObj;\r\n                if (this === client.storage.localStorage)\r\n                    return __uv.localStorageObj;\r\n            },\r\n            enumerable: false,\r\n        }\r\n    );\r\n\r\n    if (window.localStorage) {\r\n        for (const key in window.localStorage) {\r\n            if (key.startsWith(methodPrefix + __uv.location.origin + '@')) {\r\n                __uv.localStorageObj[\r\n                    key.slice(\r\n                        (methodPrefix + __uv.location.origin + '@').length\r\n                    )\r\n                ] = window.localStorage.getItem(key);\r\n            }\r\n        }\r\n\r\n        __uv.lsWrap = client.storage.emulate(\r\n            client.storage.localStorage,\r\n            __uv.localStorageObj\r\n        );\r\n    }\r\n\r\n    if (window.sessionStorage) {\r\n        for (const key in window.sessionStorage) {\r\n            if (key.startsWith(methodPrefix + __uv.location.origin + '@')) {\r\n                __uv.sessionStorageObj[\r\n                    key.slice(\r\n                        (methodPrefix + __uv.location.origin + '@').length\r\n                    )\r\n                ] = window.sessionStorage.getItem(key);\r\n            }\r\n        }\r\n\r\n        __uv.ssWrap = client.storage.emulate(\r\n            client.storage.sessionStorage,\r\n            __uv.sessionStorageObj\r\n        );\r\n    }\r\n\r\n    let rawBase = window.document\r\n        ? client.node.baseURI.get.call(window.document)\r\n        : window.location.href;\r\n    let base = __uv.sourceUrl(rawBase);\r\n\r\n    client.nativeMethods.defineProperty(__uv.meta, 'base', {\r\n        get() {\r\n            if (!window.document) return __uv.meta.url.href;\r\n\r\n            if (client.node.baseURI.get.call(window.document) !== rawBase) {\r\n                rawBase = client.node.baseURI.get.call(window.document);\r\n                base = __uv.sourceUrl(rawBase);\r\n            }\r\n\r\n            return base;\r\n        },\r\n    });\r\n\r\n    __uv.methods = {\r\n        setSource: methodPrefix + 'setSource',\r\n        source: methodPrefix + 'source',\r\n        location: methodPrefix + 'location',\r\n        function: methodPrefix + 'function',\r\n        string: methodPrefix + 'string',\r\n        eval: methodPrefix + 'eval',\r\n        parent: methodPrefix + 'parent',\r\n        top: methodPrefix + 'top',\r\n    };\r\n\r\n    __uv.filterKeys = [\r\n        master,\r\n        __uv.methods.setSource,\r\n        __uv.methods.source,\r\n        __uv.methods.location,\r\n        __uv.methods.function,\r\n        __uv.methods.string,\r\n        __uv.methods.eval,\r\n        __uv.methods.parent,\r\n        __uv.methods.top,\r\n        methodPrefix + 'protocol',\r\n        methodPrefix + 'storageObj',\r\n        methodPrefix + 'url',\r\n        methodPrefix + 'modifiedStyle',\r\n        methodPrefix + 'config',\r\n        methodPrefix + 'dispatched',\r\n        'Ultraviolet',\r\n        '__uvHook',\r\n    ];\r\n\r\n    client.on('wrap', (target, wrapped) => {\r\n        client.nativeMethods.defineProperty(\r\n            wrapped,\r\n            'name',\r\n            client.nativeMethods.getOwnPropertyDescriptor(target, 'name')\r\n        );\r\n        client.nativeMethods.defineProperty(\r\n            wrapped,\r\n            'length',\r\n            client.nativeMethods.getOwnPropertyDescriptor(target, 'length')\r\n        );\r\n\r\n        client.nativeMethods.defineProperty(wrapped, __uv.methods.string, {\r\n            enumerable: false,\r\n            value: client.nativeMethods.fnToString.call(target),\r\n        });\r\n\r\n        client.nativeMethods.defineProperty(wrapped, __uv.methods.function, {\r\n            enumerable: false,\r\n            value: target,\r\n        });\r\n    });\r\n\r\n    client.fetch.on('request', (event) => {\r\n        event.data.input = __uv.rewriteUrl(event.data.input);\r\n    });\r\n\r\n    client.fetch.on('requestUrl', (event) => {\r\n        event.data.value = __uv.sourceUrl(event.data.value);\r\n    });\r\n\r\n    client.fetch.on('responseUrl', (event) => {\r\n        event.data.value = __uv.sourceUrl(event.data.value);\r\n    });\r\n\r\n    // XMLHttpRequest\r\n    client.xhr.on('open', (event) => {\r\n        event.data.input = __uv.rewriteUrl(event.data.input);\r\n    });\r\n\r\n    client.xhr.on('responseUrl', (event) => {\r\n        event.data.value = __uv.sourceUrl(event.data.value);\r\n    });\r\n\r\n    // Workers\r\n    client.workers.on('worker', (event) => {\r\n        event.data.url = __uv.rewriteUrl(event.data.url);\r\n    });\r\n\r\n    client.workers.on('addModule', (event) => {\r\n        event.data.url = __uv.rewriteUrl(event.data.url);\r\n    });\r\n\r\n    client.workers.on('importScripts', (event) => {\r\n        for (const i in event.data.scripts) {\r\n            event.data.scripts[i] = __uv.rewriteUrl(event.data.scripts[i]);\r\n        }\r\n    });\r\n\r\n    client.workers.on('postMessage', (event) => {\r\n        let to = event.data.origin;\r\n\r\n        event.data.origin = '*';\r\n        event.data.message = {\r\n            __data: event.data.message,\r\n            __origin: __uv.meta.url.origin,\r\n            __to: to,\r\n        };\r\n    });\r\n\r\n    // Navigator\r\n    client.navigator.on('sendBeacon', (event) => {\r\n        event.data.url = __uv.rewriteUrl(event.data.url);\r\n    });\r\n\r\n    // Cookies\r\n    client.document.on('getCookie', (event) => {\r\n        event.data.value = cookieStr;\r\n    });\r\n\r\n    client.document.on('setCookie', (event) => {\r\n        __uv.cookie.db().then((db) => {\r\n            __uv.cookie.setCookies(event.data.value, db, __uv.meta);\r\n\r\n            __uv.cookie.getCookies(db).then((cookies) => {\r\n                cookieStr = __uv.cookie.serialize(cookies, __uv.meta, true);\r\n            });\r\n        });\r\n\r\n        const cookie = __uv.cookie.setCookie(event.data.value)[0];\r\n\r\n        if (!cookie.path) cookie.path = '/';\r\n        if (!cookie.domain) cookie.domain = __uv.meta.url.hostname;\r\n\r\n        if (__uv.cookie.validateCookie(cookie, __uv.meta, true)) {\r\n            if (cookieStr.length) cookieStr += '; ';\r\n            cookieStr += `${cookie.name}=${cookie.value}`;\r\n        }\r\n\r\n        event.respondWith(event.data.value);\r\n    });\r\n\r\n    // HTML\r\n    client.element.on('setInnerHTML', (event) => {\r\n        switch (event.that.tagName) {\r\n            case 'SCRIPT':\r\n                event.data.value = __uv.js.rewrite(event.data.value);\r\n                break;\r\n            case 'STYLE':\r\n                event.data.value = __uv.rewriteCSS(event.data.value);\r\n                break;\r\n            default:\r\n                event.data.value = __uv.rewriteHtml(event.data.value);\r\n        }\r\n    });\r\n\r\n    client.element.on('getInnerHTML', (event) => {\r\n        switch (event.that.tagName) {\r\n            case 'SCRIPT':\r\n                event.data.value = __uv.js.source(event.data.value);\r\n                break;\r\n            default:\r\n                event.data.value = __uv.sourceHtml(event.data.value);\r\n        }\r\n    });\r\n\r\n    client.element.on('setOuterHTML', (event) => {\r\n        event.data.value = __uv.rewriteHtml(event.data.value, {\r\n            document: event.that.tagName === 'HTML',\r\n        });\r\n    });\r\n\r\n    client.element.on('getOuterHTML', (event) => {\r\n        switch (event.that.tagName) {\r\n            case 'HEAD':\r\n                event.data.value = __uv\r\n                    .sourceHtml(\r\n                        event.data.value.replace(\r\n                            /<head(.*)>(.*)<\\/head>/s,\r\n                            '<op-head$1>$2</op-head>'\r\n                        )\r\n                    )\r\n                    .replace(\r\n                        /<op-head(.*)>(.*)<\\/op-head>/s,\r\n                        '<head$1>$2</head>'\r\n                    );\r\n                break;\r\n            case 'BODY':\r\n                event.data.value = __uv\r\n                    .sourceHtml(\r\n                        event.data.value.replace(\r\n                            /<body(.*)>(.*)<\\/body>/s,\r\n                            '<op-body$1>$2</op-body>'\r\n                        )\r\n                    )\r\n                    .replace(\r\n                        /<op-body(.*)>(.*)<\\/op-body>/s,\r\n                        '<body$1>$2</body>'\r\n                    );\r\n                break;\r\n            default:\r\n                event.data.value = __uv.sourceHtml(event.data.value, {\r\n                    document: event.that.tagName === 'HTML',\r\n                });\r\n                break;\r\n        }\r\n\r\n        //event.data.value = __uv.sourceHtml(event.data.value, { document: event.that.tagName === 'HTML' });\r\n    });\r\n\r\n    client.document.on('write', (event) => {\r\n        if (!event.data.html.length) return false;\r\n        event.data.html = [__uv.rewriteHtml(event.data.html.join(''))];\r\n    });\r\n\r\n    client.document.on('writeln', (event) => {\r\n        if (!event.data.html.length) return false;\r\n        event.data.html = [__uv.rewriteHtml(event.data.html.join(''))];\r\n    });\r\n\r\n    client.element.on('insertAdjacentHTML', (event) => {\r\n        event.data.html = __uv.rewriteHtml(event.data.html);\r\n    });\r\n\r\n    // EventSource\r\n\r\n    client.eventSource.on('construct', (event) => {\r\n        event.data.url = __uv.rewriteUrl(event.data.url);\r\n    });\r\n\r\n    client.eventSource.on('url', (event) => {\r\n        event.data.url = __uv.rewriteUrl(event.data.url);\r\n    });\r\n\r\n    // IDB\r\n    client.idb.on('idbFactoryOpen', (event) => {\r\n        // Don't modify the Ultraviolet cookie database\r\n        if (event.data.name === '__op') return;\r\n        event.data.name = `${__uv.meta.url.origin}@${event.data.name}`;\r\n    });\r\n\r\n    client.idb.on('idbFactoryName', (event) => {\r\n        event.data.value = event.data.value.slice(\r\n            __uv.meta.url.origin.length + 1 /*the @*/\r\n        );\r\n    });\r\n\r\n    // History\r\n    client.history.on('replaceState', (event) => {\r\n        if (event.data.url)\r\n            event.data.url = __uv.rewriteUrl(\r\n                event.data.url,\r\n                '__uv' in event.that ? event.that.__uv.meta : __uv.meta\r\n            );\r\n    });\r\n    client.history.on('pushState', (event) => {\r\n        if (event.data.url)\r\n            event.data.url = __uv.rewriteUrl(\r\n                event.data.url,\r\n                '__uv' in event.that ? event.that.__uv.meta : __uv.meta\r\n            );\r\n    });\r\n\r\n    // Element get set attribute methods\r\n    client.element.on('getAttribute', (event) => {\r\n        if (\r\n            client.element.hasAttribute.call(\r\n                event.that,\r\n                __uv.attributePrefix + '-attr-' + event.data.name\r\n            )\r\n        ) {\r\n            event.respondWith(\r\n                event.target.call(\r\n                    event.that,\r\n                    __uv.attributePrefix + '-attr-' + event.data.name\r\n                )\r\n            );\r\n        }\r\n    });\r\n\r\n    // Message\r\n    client.message.on('postMessage', (event) => {\r\n        let to = event.data.origin;\r\n        let call = __uv.call;\r\n\r\n        if (event.that) {\r\n            call = event.that.__uv$source.call;\r\n        }\r\n\r\n        event.data.origin = '*';\r\n        event.data.message = {\r\n            __data: event.data.message,\r\n            __origin: (event.that || event.target).__uv$source.location.origin,\r\n            __to: to,\r\n        };\r\n\r\n        event.respondWith(\r\n            worker\r\n                ? call(\r\n                    event.target,\r\n                    [event.data.message, event.data.transfer],\r\n                    event.that\r\n                )\r\n                : call(\r\n                    event.target,\r\n                    [\r\n                        event.data.message,\r\n                        event.data.origin,\r\n                        event.data.transfer,\r\n                    ],\r\n                    event.that\r\n                )\r\n        );\r\n    });\r\n\r\n    client.message.on('data', (event) => {\r\n        const { value: data } = event.data;\r\n        if (\r\n            typeof data === 'object' &&\r\n            '__data' in data &&\r\n            '__origin' in data\r\n        ) {\r\n            event.respondWith(data.__data);\r\n        }\r\n    });\r\n\r\n    client.message.on('origin', (event) => {\r\n        const data = client.message.messageData.get.call(event.that);\r\n        if (typeof data === 'object' && data.__data && data.__origin) {\r\n            event.respondWith(data.__origin);\r\n        }\r\n    });\r\n\r\n    client.overrideDescriptor(window, 'origin', {\r\n        get: () => {\r\n            return __uv.location.origin;\r\n        },\r\n    });\r\n\r\n    client.node.on('baseURI', (event) => {\r\n        if (event.data.value.startsWith(window.location.origin))\r\n            event.data.value = __uv.sourceUrl(event.data.value);\r\n    });\r\n\r\n    client.element.on('setAttribute', (event) => {\r\n        if (\r\n            event.that instanceof HTMLMediaElement &&\r\n            event.data.name === 'src' &&\r\n            event.data.value.startsWith('blob:')\r\n        ) {\r\n            event.target.call(\r\n                event.that,\r\n                __uv.attributePrefix + '-attr-' + event.data.name,\r\n                event.data.value\r\n            );\r\n            event.data.value = __uv.blobUrls.get(event.data.value);\r\n            return;\r\n        }\r\n\r\n        if (__uv.attrs.isUrl(event.data.name)) {\r\n            event.target.call(\r\n                event.that,\r\n                __uv.attributePrefix + '-attr-' + event.data.name,\r\n                event.data.value\r\n            );\r\n            event.data.value = __uv.rewriteUrl(event.data.value);\r\n        }\r\n\r\n        if (__uv.attrs.isStyle(event.data.name)) {\r\n            event.target.call(\r\n                event.that,\r\n                __uv.attributePrefix + '-attr-' + event.data.name,\r\n                event.data.value\r\n            );\r\n            event.data.value = __uv.rewriteCSS(event.data.value, {\r\n                context: 'declarationList',\r\n            });\r\n        }\r\n\r\n        if (__uv.attrs.isHtml(event.data.name)) {\r\n            event.target.call(\r\n                event.that,\r\n                __uv.attributePrefix + '-attr-' + event.data.name,\r\n                event.data.value\r\n            );\r\n            event.data.value = __uv.rewriteHtml(event.data.value, {\r\n                ...__uv.meta,\r\n                document: true,\r\n                injectHead: __uv.createHtmlInject(\r\n                    __uv.handlerScript,\r\n                    __uv.bundleScript,\r\n                    __uv.clientScript,\r\n                    __uv.configScript,\r\n                    __uv$bareURL,\r\n                    __uv$bareData,\r\n                    cookieStr,\r\n                    window.location.href\r\n                ),\r\n            });\r\n        }\r\n\r\n        if (__uv.attrs.isSrcset(event.data.name)) {\r\n            event.target.call(\r\n                event.that,\r\n                __uv.attributePrefix + '-attr-' + event.data.name,\r\n                event.data.value\r\n            );\r\n            event.data.value = __uv.html.wrapSrcset(\r\n                event.data.value.toString()\r\n            );\r\n        }\r\n\r\n        if (__uv.attrs.isForbidden(event.data.name)) {\r\n            event.data.name = __uv.attributePrefix + '-attr-' + event.data.name;\r\n        }\r\n    });\r\n\r\n    client.element.on('audio', (event) => {\r\n        event.data.url = __uv.rewriteUrl(event.data.url);\r\n    });\r\n\r\n    // Element Property Attributes\r\n    client.element.hookProperty(\r\n        [HTMLAnchorElement, HTMLAreaElement, HTMLLinkElement, HTMLBaseElement],\r\n        'href',\r\n        {\r\n            get: (target, that) => {\r\n                return __uv.sourceUrl(target.call(that));\r\n            },\r\n            set: (target, that, [val]) => {\r\n                client.element.setAttribute.call(\r\n                    that,\r\n                    __uv.attributePrefix + '-attr-href',\r\n                    val\r\n                );\r\n                target.call(that, __uv.rewriteUrl(val));\r\n            },\r\n        }\r\n    );\r\n\r\n    client.element.hookProperty(\r\n        [\r\n            HTMLScriptElement,\r\n            HTMLAudioElement,\r\n            HTMLVideoElement,\r\n            HTMLMediaElement,\r\n            HTMLImageElement,\r\n            HTMLInputElement,\r\n            HTMLEmbedElement,\r\n            HTMLIFrameElement,\r\n            HTMLTrackElement,\r\n            HTMLSourceElement,\r\n        ],\r\n        'src',\r\n        {\r\n            get: (target, that) => {\r\n                return __uv.sourceUrl(target.call(that));\r\n            },\r\n            set: (target, that, [val]) => {\r\n                if (\r\n                    new String(val).toString().trim().startsWith('blob:') &&\r\n                    that instanceof HTMLMediaElement\r\n                ) {\r\n                    client.element.setAttribute.call(\r\n                        that,\r\n                        __uv.attributePrefix + '-attr-src',\r\n                        val\r\n                    );\r\n                    return target.call(that, __uv.blobUrls.get(val) || val);\r\n                }\r\n\r\n                client.element.setAttribute.call(\r\n                    that,\r\n                    __uv.attributePrefix + '-attr-src',\r\n                    val\r\n                );\r\n                target.call(that, __uv.rewriteUrl(val));\r\n            },\r\n        }\r\n    );\r\n\r\n    client.element.hookProperty([HTMLFormElement], 'action', {\r\n        get: (target, that) => {\r\n            return __uv.sourceUrl(target.call(that));\r\n        },\r\n        set: (target, that, [val]) => {\r\n            client.element.setAttribute.call(\r\n                that,\r\n                __uv.attributePrefix + '-attr-action',\r\n                val\r\n            );\r\n            target.call(that, __uv.rewriteUrl(val));\r\n        },\r\n    });\r\n\r\n    client.element.hookProperty([HTMLImageElement], 'srcset', {\r\n        get: (target, that) => {\r\n            return (\r\n                client.element.getAttribute.call(\r\n                    that,\r\n                    __uv.attributePrefix + '-attr-srcset'\r\n                ) || target.call(that)\r\n            );\r\n        },\r\n        set: (target, that, [val]) => {\r\n            client.element.setAttribute.call(\r\n                that,\r\n                __uv.attributePrefix + '-attr-srcset',\r\n                val\r\n            );\r\n            target.call(that, __uv.html.wrapSrcset(val.toString()));\r\n        },\r\n    });\r\n\r\n    client.element.hookProperty(HTMLScriptElement, 'integrity', {\r\n        get: (target, that) => {\r\n            return client.element.getAttribute.call(\r\n                that,\r\n                __uv.attributePrefix + '-attr-integrity'\r\n            );\r\n        },\r\n        set: (target, that, [val]) => {\r\n            client.element.setAttribute.call(\r\n                that,\r\n                __uv.attributePrefix + '-attr-integrity',\r\n                val\r\n            );\r\n        },\r\n    });\r\n\r\n    client.element.hookProperty(HTMLIFrameElement, 'sandbox', {\r\n        get: (target, that) => {\r\n            return (\r\n                client.element.getAttribute.call(\r\n                    that,\r\n                    __uv.attributePrefix + '-attr-sandbox'\r\n                ) || target.call(that)\r\n            );\r\n        },\r\n        set: (target, that, [val]) => {\r\n            client.element.setAttribute.call(\r\n                that,\r\n                __uv.attributePrefix + '-attr-sandbox',\r\n                val\r\n            );\r\n        },\r\n    });\r\n\r\n    // HTMLIFrameElement may not be defined (workers)\r\n    const contentWindowGet =\r\n        HTMLIFrameElement &&\r\n        Object.getOwnPropertyDescriptor(\r\n            HTMLIFrameElement.prototype,\r\n            'contentWindow'\r\n        ).get;\r\n\r\n    function uvInject(that) {\r\n        const win = contentWindowGet.call(that);\r\n\r\n        if (!win.__uv)\r\n            try {\r\n                __uvHook(win);\r\n            } catch (e) {\r\n                console.error('catastrophic failure');\r\n                console.error(e);\r\n            }\r\n    }\r\n\r\n    client.element.hookProperty(HTMLIFrameElement, 'contentWindow', {\r\n        get: (target, that) => {\r\n            uvInject(that);\r\n            return target.call(that);\r\n        },\r\n    });\r\n\r\n    client.element.hookProperty(HTMLIFrameElement, 'contentDocument', {\r\n        get: (target, that) => {\r\n            uvInject(that);\r\n            return target.call(that);\r\n        },\r\n    });\r\n\r\n    client.element.hookProperty(HTMLIFrameElement, 'srcdoc', {\r\n        get: (target, that) => {\r\n            return (\r\n                client.element.getAttribute.call(\r\n                    that,\r\n                    __uv.attributePrefix + '-attr-srcdoc'\r\n                ) || target.call(that)\r\n            );\r\n        },\r\n        set: (target, that, [val]) => {\r\n            target.call(\r\n                that,\r\n                __uv.rewriteHtml(val, {\r\n                    document: true,\r\n                    injectHead: __uv.createHtmlInject(\r\n                        __uv.handlerScript,\r\n                        __uv.bundleScript,\r\n                        __uv.clientScript,\r\n                        __uv.configScript,\r\n                        __uv$bareURL,\r\n                        __uv$bareData,\r\n                        cookieStr,\r\n                        window.location.href\r\n                    ),\r\n                })\r\n            );\r\n        },\r\n    });\r\n\r\n    client.node.on('getTextContent', (event) => {\r\n        if (event.that.tagName === 'SCRIPT') {\r\n            event.data.value = __uv.js.source(event.data.value);\r\n        }\r\n    });\r\n\r\n    client.node.on('setTextContent', (event) => {\r\n        if (event.that.tagName === 'SCRIPT') {\r\n            event.data.value = __uv.js.rewrite(event.data.value);\r\n        }\r\n    });\r\n\r\n    // Until proper rewriting is implemented for service workers.\r\n    // Not sure atm how to implement it with the already built in service worker\r\n    if ('serviceWorker' in window.navigator) {\r\n        delete window.Navigator.prototype.serviceWorker;\r\n    }\r\n\r\n    // Document\r\n    client.document.on('getDomain', (event) => {\r\n        event.data.value = __uv.domain;\r\n    });\r\n    client.document.on('setDomain', (event) => {\r\n        if (\r\n            !event.data.value\r\n                .toString()\r\n                .endsWith(__uv.meta.url.hostname.split('.').slice(-2).join('.'))\r\n        )\r\n            return event.respondWith('');\r\n        event.respondWith((__uv.domain = event.data.value));\r\n    });\r\n\r\n    client.document.on('url', (event) => {\r\n        event.data.value = __uv.location.href;\r\n    });\r\n\r\n    client.document.on('documentURI', (event) => {\r\n        event.data.value = __uv.location.href;\r\n    });\r\n\r\n    client.document.on('referrer', (event) => {\r\n        event.data.value = __uv.referrer || __uv.sourceUrl(event.data.value);\r\n    });\r\n\r\n    client.document.on('parseFromString', (event) => {\r\n        if (event.data.type !== 'text/html') return false;\r\n        event.data.string = __uv.rewriteHtml(event.data.string, {\r\n            ...__uv.meta,\r\n            document: true,\r\n        });\r\n    });\r\n\r\n    // Attribute (node.attributes)\r\n    client.attribute.on('getValue', (event) => {\r\n        if (\r\n            client.element.hasAttribute.call(\r\n                event.that.ownerElement,\r\n                __uv.attributePrefix + '-attr-' + event.data.name\r\n            )\r\n        ) {\r\n            event.data.value = client.element.getAttribute.call(\r\n                event.that.ownerElement,\r\n                __uv.attributePrefix + '-attr-' + event.data.name\r\n            );\r\n        }\r\n    });\r\n\r\n    client.attribute.on('setValue', (event) => {\r\n        if (__uv.attrs.isUrl(event.data.name)) {\r\n            client.element.setAttribute.call(\r\n                event.that.ownerElement,\r\n                __uv.attributePrefix + '-attr-' + event.data.name,\r\n                event.data.value\r\n            );\r\n            event.data.value = __uv.rewriteUrl(event.data.value);\r\n        }\r\n\r\n        if (__uv.attrs.isStyle(event.data.name)) {\r\n            client.element.setAttribute.call(\r\n                event.that.ownerElement,\r\n                __uv.attributePrefix + '-attr-' + event.data.name,\r\n                event.data.value\r\n            );\r\n            event.data.value = __uv.rewriteCSS(event.data.value, {\r\n                context: 'declarationList',\r\n            });\r\n        }\r\n\r\n        if (__uv.attrs.isHtml(event.data.name)) {\r\n            client.element.setAttribute.call(\r\n                event.that.ownerElement,\r\n                __uv.attributePrefix + '-attr-' + event.data.name,\r\n                event.data.value\r\n            );\r\n            event.data.value = __uv.rewriteHtml(event.data.value, {\r\n                ...__uv.meta,\r\n                document: true,\r\n                injectHead: __uv.createHtmlInject(\r\n                    __uv.handlerScript,\r\n                    __uv.bundleScript,\r\n                    __uv.clientScript,\r\n                    __uv.configScript,\r\n                    __uv$bareURL,\r\n                    __uv$bareData,\r\n                    cookieStr,\r\n                    window.location.href\r\n                ),\r\n            });\r\n        }\r\n\r\n        if (__uv.attrs.isSrcset(event.data.name)) {\r\n            client.element.setAttribute.call(\r\n                event.that.ownerElement,\r\n                __uv.attributePrefix + '-attr-' + event.data.name,\r\n                event.data.value\r\n            );\r\n            event.data.value = __uv.html.wrapSrcset(\r\n                event.data.value.toString()\r\n            );\r\n        }\r\n    });\r\n\r\n    // URL\r\n    client.url.on('createObjectURL', (event) => {\r\n        let url = event.target.call(event.that, event.data.object);\r\n        if (url.startsWith('blob:' + location.origin)) {\r\n            let newUrl =\r\n                'blob:' +\r\n                (__uv.meta.url.href !== 'about:blank'\r\n                    ? __uv.meta.url.origin\r\n                    : window.parent.__uv.meta.url.origin) +\r\n                url.slice('blob:'.length + location.origin.length);\r\n            __uv.blobUrls.set(newUrl, url);\r\n            event.respondWith(newUrl);\r\n        } else {\r\n            event.respondWith(url);\r\n        }\r\n    });\r\n\r\n    client.url.on('revokeObjectURL', (event) => {\r\n        if (__uv.blobUrls.has(event.data.url)) {\r\n            const old = event.data.url;\r\n            event.data.url = __uv.blobUrls.get(event.data.url);\r\n            __uv.blobUrls.delete(old);\r\n        }\r\n    });\r\n\r\n    client.storage.on('get', (event) => {\r\n        event.data.name =\r\n            methodPrefix + __uv.meta.url.origin + '@' + event.data.name;\r\n    });\r\n\r\n    client.storage.on('set', (event) => {\r\n        if (event.that.__uv$storageObj) {\r\n            event.that.__uv$storageObj[event.data.name] = event.data.value;\r\n        }\r\n        event.data.name =\r\n            methodPrefix + __uv.meta.url.origin + '@' + event.data.name;\r\n    });\r\n\r\n    client.storage.on('delete', (event) => {\r\n        if (event.that.__uv$storageObj) {\r\n            delete event.that.__uv$storageObj[event.data.name];\r\n        }\r\n        event.data.name =\r\n            methodPrefix + __uv.meta.url.origin + '@' + event.data.name;\r\n    });\r\n\r\n    client.storage.on('getItem', (event) => {\r\n        event.data.name =\r\n            methodPrefix + __uv.meta.url.origin + '@' + event.data.name;\r\n    });\r\n\r\n    client.storage.on('setItem', (event) => {\r\n        if (event.that.__uv$storageObj) {\r\n            event.that.__uv$storageObj[event.data.name] = event.data.value;\r\n        }\r\n        event.data.name =\r\n            methodPrefix + __uv.meta.url.origin + '@' + event.data.name;\r\n    });\r\n\r\n    client.storage.on('removeItem', (event) => {\r\n        if (event.that.__uv$storageObj) {\r\n            delete event.that.__uv$storageObj[event.data.name];\r\n        }\r\n        event.data.name =\r\n            methodPrefix + __uv.meta.url.origin + '@' + event.data.name;\r\n    });\r\n\r\n    client.storage.on('clear', (event) => {\r\n        if (event.that.__uv$storageObj) {\r\n            for (const key of client.nativeMethods.keys.call(\r\n                null,\r\n                event.that.__uv$storageObj\r\n            )) {\r\n                delete event.that.__uv$storageObj[key];\r\n                client.storage.removeItem.call(\r\n                    event.that,\r\n                    methodPrefix + __uv.meta.url.origin + '@' + key\r\n                );\r\n                event.respondWith();\r\n            }\r\n        }\r\n    });\r\n\r\n    client.storage.on('length', (event) => {\r\n        if (event.that.__uv$storageObj) {\r\n            event.respondWith(\r\n                client.nativeMethods.keys.call(null, event.that.__uv$storageObj)\r\n                    .length\r\n            );\r\n        }\r\n    });\r\n\r\n    client.storage.on('key', (event) => {\r\n        if (event.that.__uv$storageObj) {\r\n            event.respondWith(\r\n                client.nativeMethods.keys.call(\r\n                    null,\r\n                    event.that.__uv$storageObj\r\n                )[event.data.index] || null\r\n            );\r\n        }\r\n    });\r\n\r\n    function eventTarget(target, event) {\r\n        const property = `on${event}`;\r\n        const listeners = new WeakMap();\r\n\r\n        Reflect.defineProperty(target, property, {\r\n            enumerable: true,\r\n            configurable: true,\r\n            get() {\r\n                if (listeners.has(this)) {\r\n                    return listeners.get(this);\r\n                } else {\r\n                    return null;\r\n                }\r\n            },\r\n            set(value) {\r\n                if (typeof value == 'function') {\r\n                    if (listeners.has(this)) {\r\n                        this.removeEventListener(event, listeners.get(this));\r\n                    }\r\n\r\n                    listeners.set(this, value);\r\n                    this.addEventListener(event, value);\r\n                }\r\n            },\r\n        });\r\n    }\r\n\r\n    const wsProtocols = ['ws:', 'wss:'];\r\n\r\n    class MockWebSocket extends EventTarget {\r\n        /**\r\n         * @type {import(\"@tomphttp/bare-client\").BareWebSocket}\r\n         */\r\n        #socket;\r\n        #ready;\r\n        #binaryType = 'blob';\r\n        #protocol = '';\r\n        #extensions = '';\r\n        #url = '';\r\n        /**\r\n         *\r\n         * @param {URL} remote\r\n         * @param {any} protocol\r\n         */\r\n        async #open(url, protocol) {\r\n            const requestHeaders = {};\r\n            Reflect.setPrototypeOf(requestHeaders, null);\r\n\r\n            requestHeaders['Origin'] = __uv.meta.url.origin;\r\n            requestHeaders['User-Agent'] = navigator.userAgent;\r\n\r\n            if (cookieStr !== '')\r\n                requestHeaders['Cookie'] = cookieStr.toString();\r\n\r\n            this.#socket = await bareClient.createWebSocket(\r\n                url,\r\n                protocol,\r\n                OldWebSocket,\r\n                requestHeaders\r\n            );\r\n\r\n            this.#socket.binaryType = this.#binaryType;\r\n\r\n            this.#socket.addEventListener('message', (event) => {\r\n                this.dispatchEvent(new MessageEvent('message', event));\r\n            });\r\n\r\n            this.#socket.addEventListener('open', async (event) => {\r\n                this.dispatchEvent(new Event('open', event));\r\n            });\r\n\r\n            this.#socket.addEventListener('error', (event) => {\r\n                this.dispatchEvent(new ErrorEvent('error', event));\r\n            });\r\n\r\n            this.#socket.addEventListener('close', (event) => {\r\n                this.dispatchEvent(new Event('close', event));\r\n            });\r\n\r\n            // const meta = await this.#socket.meta;\r\n            //\r\n            // if (meta && meta.headers['sec-websocket-protocol'])\r\n            //     this.#protocol = meta.headers['sec-websocket-protocol'];\r\n            //\r\n            //\r\n            // let setCookie = meta.rawHeaders['set-cookie'] || [];\r\n            // if (!Array.isArray(setCookie)) setCookie = [];\r\n            // // trip the hook\r\n            // for (const cookie of setCookie) document.cookie = cookie;\r\n        }\r\n        get url() {\r\n            return this.#url;\r\n        }\r\n        constructor(...args) {\r\n            super();\r\n\r\n            if (!args.length)\r\n                throw new DOMException(\r\n                    `Failed to construct 'WebSocket': 1 argument required, but only 0 present.`\r\n                );\r\n\r\n            const [url, protocol] = args;\r\n\r\n            let parsed;\r\n\r\n            try {\r\n                parsed = new URL(url);\r\n            } catch (err) {\r\n                throw new DOMException(\r\n                    `Faiiled to construct 'WebSocket': The URL '${url}' is invalid.`\r\n                );\r\n            }\r\n\r\n            if (!wsProtocols.includes(parsed.protocol)) {\r\n                throw new DOMException(\r\n                    `Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${parsed.protocol}' is not allowed.`\r\n                );\r\n            }\r\n\r\n            this.#ready = this.#open(parsed, protocol);\r\n        }\r\n        get protocol() {\r\n            return this.#socket.protocol;\r\n        }\r\n        get extensions() {\r\n            return this.#socket.extensions;\r\n        }\r\n        get readyState() {\r\n            if (this.#socket) {\r\n                return this.#socket.readyState;\r\n            } else {\r\n                return MockWebSocket.CONNECTING;\r\n            }\r\n        }\r\n        get binaryType() {\r\n            return this.#binaryType;\r\n        }\r\n        set binaryType(value) {\r\n            this.#binaryType = value;\r\n\r\n            if (this.#socket) {\r\n                this.#socket.binaryType = value;\r\n            }\r\n        }\r\n        send(data) {\r\n            if (!this.#socket) {\r\n                throw new DOMException(\r\n                    `Failed to execute 'send' on 'WebSocket': Still in CONNECTING state.`\r\n                );\r\n            }\r\n            this.#socket.send(data);\r\n        }\r\n        close(code, reason) {\r\n            if (typeof code !== 'undefined') {\r\n                if (typeof code !== 'number') {\r\n                    code = 0;\r\n                }\r\n\r\n                if (code !== 1000 && (code < 3000 || code > 4999)) {\r\n                    throw new DOMException(\r\n                        `Failed to execute 'close' on 'WebSocket': The code must be either 1000, or between 3000 and 4999. ${code} is neither.`\r\n                    );\r\n                }\r\n            }\r\n\r\n            this.#ready.then(() => this.#socket.close(code, reason));\r\n        }\r\n    }\r\n\r\n    eventTarget(MockWebSocket.prototype, 'close');\r\n    eventTarget(MockWebSocket.prototype, 'open');\r\n    eventTarget(MockWebSocket.prototype, 'message');\r\n    eventTarget(MockWebSocket.prototype, 'error');\r\n\r\n    for (const hook of [\r\n        'url',\r\n        'protocol',\r\n        'extensions',\r\n        'readyState',\r\n        'binaryType',\r\n    ]) {\r\n        const officialDesc = Object.getOwnPropertyDescriptor(\r\n            window.WebSocket.prototype,\r\n            hook\r\n        );\r\n        const customDesc = Object.getOwnPropertyDescriptor(\r\n            MockWebSocket.prototype,\r\n            hook\r\n        );\r\n\r\n        if (customDesc?.get && officialDesc?.get)\r\n            client.emit('wrap', customDesc.get, officialDesc.get);\r\n\r\n        if (customDesc?.set && officialDesc?.set)\r\n            client.emit('wrap', customDesc.get, officialDesc.get);\r\n    }\r\n\r\n    client.emit(\r\n        'wrap',\r\n        window.WebSocket.prototype.send,\r\n        MockWebSocket.prototype.send\r\n    );\r\n    client.emit(\r\n        'wrap',\r\n        window.WebSocket.prototype.close,\r\n        MockWebSocket.prototype.close\r\n    );\r\n\r\n    client.override(\r\n        window,\r\n        'WebSocket',\r\n        (target, that, args) => new MockWebSocket(...args),\r\n        true\r\n    );\r\n\r\n    MockWebSocket.prototype.constructor = window.WebSocket;\r\n\r\n    client.function.on('function', (event) => {\r\n        event.data.script = __uv.rewriteJS(event.data.script);\r\n    });\r\n\r\n    client.function.on('toString', (event) => {\r\n        if (__uv.methods.string in event.that)\r\n            event.respondWith(event.that[__uv.methods.string]);\r\n    });\r\n\r\n    client.object.on('getOwnPropertyNames', (event) => {\r\n        event.data.names = event.data.names.filter(\r\n            (element) => !__uv.filterKeys.includes(element)\r\n        );\r\n    });\r\n\r\n    client.object.on('getOwnPropertyDescriptors', (event) => {\r\n        for (const forbidden of __uv.filterKeys) {\r\n            delete event.data.descriptors[forbidden];\r\n        }\r\n    });\r\n\r\n    client.style.on('setProperty', (event) => {\r\n        if (client.style.dashedUrlProps.includes(event.data.property)) {\r\n            event.data.value = __uv.rewriteCSS(event.data.value, {\r\n                context: 'value',\r\n                ...__uv.meta,\r\n            });\r\n        }\r\n    });\r\n\r\n    client.style.on('getPropertyValue', (event) => {\r\n        if (client.style.dashedUrlProps.includes(event.data.property)) {\r\n            event.respondWith(\r\n                __uv.sourceCSS(\r\n                    event.target.call(event.that, event.data.property),\r\n                    {\r\n                        context: 'value',\r\n                        ...__uv.meta,\r\n                    }\r\n                )\r\n            );\r\n        }\r\n    });\r\n\r\n    if ('CSS2Properties' in window) {\r\n        for (const key of client.style.urlProps) {\r\n            client.overrideDescriptor(window.CSS2Properties.prototype, key, {\r\n                get: (target, that) => {\r\n                    return __uv.sourceCSS(target.call(that), {\r\n                        context: 'value',\r\n                        ...__uv.meta,\r\n                    });\r\n                },\r\n                set: (target, that, val) => {\r\n                    target.call(\r\n                        that,\r\n                        __uv.rewriteCSS(val, {\r\n                            context: 'value',\r\n                            ...__uv.meta,\r\n                        })\r\n                    );\r\n                },\r\n            });\r\n        }\r\n    } else if ('HTMLElement' in window) {\r\n        client.overrideDescriptor(window.HTMLElement.prototype, 'style', {\r\n            get: (target, that) => {\r\n                const value = target.call(that);\r\n                if (!value[methodPrefix + 'modifiedStyle']) {\r\n                    for (const key of client.style.urlProps) {\r\n                        client.nativeMethods.defineProperty(value, key, {\r\n                            enumerable: true,\r\n                            configurable: true,\r\n                            get() {\r\n                                const value =\r\n                                    client.style.getPropertyValue.call(\r\n                                        this,\r\n                                        key\r\n                                    ) || '';\r\n                                return __uv.sourceCSS(value, {\r\n                                    context: 'value',\r\n                                    ...__uv.meta,\r\n                                });\r\n                            },\r\n                            set(val) {\r\n                                client.style.setProperty.call(\r\n                                    this,\r\n                                    client.style.propToDashed[key] || key,\r\n                                    __uv.rewriteCSS(val, {\r\n                                        context: 'value',\r\n                                        ...__uv.meta,\r\n                                    })\r\n                                );\r\n                            },\r\n                        });\r\n                        client.nativeMethods.defineProperty(\r\n                            value,\r\n                            methodPrefix + 'modifiedStyle',\r\n                            {\r\n                                enumerable: false,\r\n                                value: true,\r\n                            }\r\n                        );\r\n                    }\r\n                }\r\n                return value;\r\n            },\r\n        });\r\n    }\r\n\r\n    client.style.on('setCssText', (event) => {\r\n        event.data.value = __uv.rewriteCSS(event.data.value, {\r\n            context: 'declarationList',\r\n            ...__uv.meta,\r\n        });\r\n    });\r\n\r\n    client.style.on('getCssText', (event) => {\r\n        event.data.value = __uv.sourceCSS(event.data.value, {\r\n            context: 'declarationList',\r\n            ...__uv.meta,\r\n        });\r\n    });\r\n\r\n    // Proper hash emulation.\r\n    __uv.addEventListener.call(window, 'hashchange', (event) => {\r\n        if (event.__uv$dispatched) return false;\r\n        event.stopImmediatePropagation();\r\n        const hash = window.location.hash;\r\n        client.history.replaceState.call(window.history, '', '', event.oldURL);\r\n        __uv.location.hash = hash;\r\n    });\r\n\r\n    client.location.on('hashchange', (oldUrl, newUrl, ctx) => {\r\n        if (ctx.HashChangeEvent && client.history.replaceState) {\r\n            client.history.replaceState.call(\r\n                window.history,\r\n                '',\r\n                '',\r\n                __uv.rewriteUrl(newUrl)\r\n            );\r\n\r\n            const event = new ctx.HashChangeEvent('hashchange', {\r\n                newURL: newUrl,\r\n                oldURL: oldUrl,\r\n            });\r\n\r\n            client.nativeMethods.defineProperty(\r\n                event,\r\n                methodPrefix + 'dispatched',\r\n                {\r\n                    value: true,\r\n                    enumerable: false,\r\n                }\r\n            );\r\n\r\n            __uv.dispatchEvent.call(window, event);\r\n        }\r\n    });\r\n\r\n    // Hooking functions & descriptors\r\n    client.fetch.overrideRequest();\r\n    client.fetch.overrideUrl();\r\n    client.xhr.overrideOpen();\r\n    client.xhr.overrideResponseUrl();\r\n    client.element.overrideHtml();\r\n    client.element.overrideAttribute();\r\n    client.element.overrideInsertAdjacentHTML();\r\n    client.element.overrideAudio();\r\n    // client.element.overrideQuerySelector();\r\n    client.node.overrideBaseURI();\r\n    client.node.overrideTextContent();\r\n    client.attribute.overrideNameValue();\r\n    client.document.overrideDomain();\r\n    client.document.overrideURL();\r\n    client.document.overrideDocumentURI();\r\n    client.document.overrideWrite();\r\n    client.document.overrideReferrer();\r\n    client.document.overrideParseFromString();\r\n    client.storage.overrideMethods();\r\n    client.storage.overrideLength();\r\n    //client.document.overrideQuerySelector();\r\n    client.object.overrideGetPropertyNames();\r\n    client.object.overrideGetOwnPropertyDescriptors();\r\n    client.idb.overrideName();\r\n    client.idb.overrideOpen();\r\n    client.history.overridePushState();\r\n    client.history.overrideReplaceState();\r\n    client.eventSource.overrideConstruct();\r\n    client.eventSource.overrideUrl();\r\n    client.url.overrideObjectURL();\r\n    client.document.overrideCookie();\r\n    client.message.overridePostMessage();\r\n    client.message.overrideMessageOrigin();\r\n    client.message.overrideMessageData();\r\n    client.workers.overrideWorker();\r\n    client.workers.overrideAddModule();\r\n    client.workers.overrideImportScripts();\r\n    client.workers.overridePostMessage();\r\n    client.style.overrideSetGetProperty();\r\n    client.style.overrideCssText();\r\n    client.navigator.overrideSendBeacon();\r\n    client.function.overrideFunction();\r\n    client.function.overrideToString();\r\n    client.location.overrideWorkerLocation((href) => {\r\n        return new URL(__uv.sourceUrl(href));\r\n    });\r\n\r\n    client.overrideDescriptor(window, 'localStorage', {\r\n        get: (target, that) => {\r\n            return (that || window).__uv.lsWrap;\r\n        },\r\n    });\r\n    client.overrideDescriptor(window, 'sessionStorage', {\r\n        get: (target, that) => {\r\n            return (that || window).__uv.ssWrap;\r\n        },\r\n    });\r\n\r\n    client.override(window, 'open', (target, that, args) => {\r\n        if (!args.length) return target.apply(that, args);\r\n        let [url] = args;\r\n\r\n        url = __uv.rewriteUrl(url);\r\n\r\n        return target.call(that, url);\r\n    });\r\n\r\n    __uv.$wrap = function(name) {\r\n        if (name === 'location') return __uv.methods.location;\r\n        if (name === 'eval') return __uv.methods.eval;\r\n        return name;\r\n    };\r\n\r\n    __uv.$get = function(that) {\r\n        if (that === window.location) return __uv.location;\r\n        if (that === window.eval) return __uv.eval;\r\n        if (that === window.parent) {\r\n            return window.__uv$parent;\r\n        }\r\n        if (that === window.top) {\r\n            return window.__uv$top;\r\n        }\r\n        return that;\r\n    };\r\n\r\n    __uv.eval = client.wrap(window, 'eval', (target, that, args) => {\r\n        if (!args.length || typeof args[0] !== 'string')\r\n            return target.apply(that, args);\r\n        let [script] = args;\r\n\r\n        script = __uv.rewriteJS(script);\r\n        return target.call(that, script);\r\n    });\r\n\r\n    __uv.call = function(target, args, that) {\r\n        return that ? target.apply(that, args) : target(...args);\r\n    };\r\n\r\n    __uv.call$ = function(obj, prop, args = []) {\r\n        return obj[prop].apply(obj, args);\r\n    };\r\n\r\n    client.nativeMethods.defineProperty(window.Object.prototype, master, {\r\n        get: () => {\r\n            return __uv;\r\n        },\r\n        enumerable: false,\r\n    });\r\n\r\n    client.nativeMethods.defineProperty(\r\n        window.Object.prototype,\r\n        __uv.methods.setSource,\r\n        {\r\n            value: function(source) {\r\n                if (!client.nativeMethods.isExtensible(this)) return this;\r\n\r\n                client.nativeMethods.defineProperty(this, __uv.methods.source, {\r\n                    value: source,\r\n                    writable: true,\r\n                    enumerable: false,\r\n                });\r\n\r\n                return this;\r\n            },\r\n            enumerable: false,\r\n        }\r\n    );\r\n\r\n    client.nativeMethods.defineProperty(\r\n        window.Object.prototype,\r\n        __uv.methods.source,\r\n        {\r\n            value: __uv,\r\n            writable: true,\r\n            enumerable: false,\r\n        }\r\n    );\r\n\r\n    client.nativeMethods.defineProperty(\r\n        window.Object.prototype,\r\n        __uv.methods.location,\r\n        {\r\n            configurable: true,\r\n            get() {\r\n                return this === window.document || this === window\r\n                    ? __uv.location\r\n                    : this.location;\r\n            },\r\n            set(val) {\r\n                if (this === window.document || this === window) {\r\n                    __uv.location.href = val;\r\n                } else {\r\n                    this.location = val;\r\n                }\r\n            },\r\n        }\r\n    );\r\n\r\n    client.nativeMethods.defineProperty(\r\n        window.Object.prototype,\r\n        __uv.methods.parent,\r\n        {\r\n            configurable: true,\r\n            get() {\r\n                const val = this.parent;\r\n\r\n                if (this === window) {\r\n                    try {\r\n                        return '__uv' in val ? val : this;\r\n                    } catch (e) {\r\n                        return this;\r\n                    }\r\n                }\r\n                return val;\r\n            },\r\n            set(val) {\r\n                this.parent = val;\r\n            },\r\n        }\r\n    );\r\n\r\n    client.nativeMethods.defineProperty(\r\n        window.Object.prototype,\r\n        __uv.methods.top,\r\n        {\r\n            configurable: true,\r\n            get() {\r\n                const val = this.top;\r\n\r\n                if (this === window) {\r\n                    if (val === this.parent) return this[__uv.methods.parent];\r\n                    try {\r\n                        if (!('__uv' in val)) {\r\n                            let current = this;\r\n\r\n                            while (current.parent !== val) {\r\n                                current = current.parent;\r\n                            }\r\n\r\n                            return '__uv' in current ? current : this;\r\n                        } else {\r\n                            return val;\r\n                        }\r\n                    } catch (e) {\r\n                        return this;\r\n                    }\r\n                }\r\n                return val;\r\n            },\r\n            set(val) {\r\n                this.top = val;\r\n            },\r\n        }\r\n    );\r\n\r\n    client.nativeMethods.defineProperty(\r\n        window.Object.prototype,\r\n        __uv.methods.eval,\r\n        {\r\n            configurable: true,\r\n            get() {\r\n                return this === window ? __uv.eval : this.eval;\r\n            },\r\n            set(val) {\r\n                this.eval = val;\r\n            },\r\n        }\r\n    );\r\n}\r\n"],
  "mappings": "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",
  "names": ["Ultraviolet", "UVClient", "__uv$config", "__uv$bareData", "__uv$bareURL", "__uv$cookies", "__uvHook", "window", "node", "worker", "master", "methodPrefix", "__uv", "OldWebSocket", "client", "HTMLMediaElement", "HTMLScriptElement", "HTMLAudioElement", "HTMLVideoElement", "HTMLInputElement", "HTMLEmbedElement", "HTMLTrackElement", "HTMLAnchorElement", "HTMLIFrameElement", "HTMLAreaElement", "HTMLLinkElement", "HTMLBaseElement", "HTMLFormElement", "HTMLImageElement", "HTMLSourceElement", "href", "cookieStr", "bareClient", "key", "rawBase", "base", "target", "wrapped", "event", "i", "to", "db", "cookies", "cookie", "call", "data", "that", "val", "contentWindowGet", "uvInject", "win", "e", "url", "newUrl", "old", "eventTarget", "property", "listeners", "value", "wsProtocols", "MockWebSocket", "#socket", "#ready", "#binaryType", "#protocol", "#extensions", "#url", "#open", "protocol", "requestHeaders", "args", "parsed", "code", "reason", "hook", "officialDesc", "customDesc", "element", "forbidden", "hash", "oldUrl", "ctx", "name", "script", "obj", "prop", "source", "current"]
}
