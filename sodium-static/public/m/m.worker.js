(()=>{var te=Object.create;var D=Object.defineProperty;var re=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var ae=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var ne=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports);var ie=(a,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of oe(e))!se.call(a,o)&&o!==t&&D(a,o,{get:()=>e[o],enumerable:!(r=re(e,o))||r.enumerable});return a};var ce=(a,e,t)=>(t=a!=null?te(ae(a)):{},ie(e||!a||!a.__esModule?D(t,"default",{value:a,enumerable:!0}):t,a));var K=ne((Re,v)=>{"use strict";var g={decodeValues:!0,map:!1,silent:!1};function z(a){return typeof a=="string"&&!!a.trim()}function $(a,e){var t=a.split(";").filter(z),r=t.shift(),o=xe(r),i=o.name,s=o.value;e=e?Object.assign({},g,e):g;try{s=e.decodeValues?decodeURIComponent(s):s}catch(d){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+s+"'. Set options.decodeValues to false to disable this feature.",d)}var n={name:i,value:s};return t.forEach(function(d){var l=d.split("="),p=l.shift().trimLeft().toLowerCase(),h=l.join("=");p==="expires"?n.expires=new Date(h):p==="max-age"?n.maxAge=parseInt(h,10):p==="secure"?n.secure=!0:p==="httponly"?n.httpOnly=!0:p==="samesite"?n.sameSite=h:p==="partitioned"?n.partitioned=!0:n[p]=h}),n}function xe(a){var e="",t="",r=a.split("=");return r.length>1?(e=r.shift(),t=r.join("=")):t=a,{name:e,value:t}}function V(a,e){if(e=e?Object.assign({},g,e):g,!a)return e.map?{}:[];if(a.headers)if(typeof a.headers.getSetCookie=="function")a=a.headers.getSetCookie();else if(a.headers["set-cookie"])a=a.headers["set-cookie"];else{var t=a.headers[Object.keys(a.headers).find(function(o){return o.toLowerCase()==="set-cookie"})];!t&&a.headers.cookie&&!e.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),a=t}if(Array.isArray(a)||(a=[a]),e=e?Object.assign({},g,e):g,e.map){var r={};return a.filter(z).reduce(function(o,i){var s=$(i,e);return o[s.name]=s,o},r)}else return a.filter(z).map(function(o){return $(o,e)})}function ve(a){if(Array.isArray(a))return a;if(typeof a!="string")return[];var e=[],t=0,r,o,i,s,n;function d(){for(;t<a.length&&/\s/.test(a.charAt(t));)t+=1;return t<a.length}function l(){return o=a.charAt(t),o!=="="&&o!==";"&&o!==","}for(;t<a.length;){for(r=t,n=!1;d();)if(o=a.charAt(t),o===","){for(i=t,t+=1,d(),s=t;t<a.length&&l();)t+=1;t<a.length&&a.charAt(t)==="="?(n=!0,t=s,e.push(a.substring(r,i)),r=t):t=i+1}else t+=1;(!n||t>=a.length)&&e.push(a.substring(r,a.length))}return e}v.exports=V;v.exports.parse=V;v.exports.parseString=$;v.exports.splitCookiesString=ve});var le=globalThis.fetch,f=globalThis.WebSocket,de=globalThis.Request,R=globalThis.Response,E=globalThis.SharedWorker,F=globalThis.localStorage,pe=globalThis.navigator.serviceWorker,b={prototype:{send:f.prototype.send},CLOSED:f.CLOSED,CLOSING:f.CLOSING,CONNECTING:f.CONNECTING,OPEN:f.OPEN};async function P(){let e=(await self.clients.matchAll({type:"window",includeUncontrolled:!0})).map(async r=>{let o=await he(r);return await B(o),o}),t=Promise.race([Promise.any(e),new Promise((r,o)=>setTimeout(o,1e3,new TypeError("timeout")))]);try{return await t}catch(r){if(r instanceof AggregateError)throw console.error("bare-mux: failed to get a bare-mux SharedWorker MessagePort as all clients returned an invalid MessagePort."),new Error("All clients returned an invalid MessagePort.");return console.warn("bare-mux: failed to get a bare-mux SharedWorker MessagePort within 1s, retrying"),await P()}}function he(a){let e=new MessageChannel;return new Promise(t=>{a.postMessage({type:"getPort",port:e.port2},[e.port2]),e.port1.onmessage=r=>{t(r.data)}})}function B(a){let e=new MessageChannel,t=new Promise((r,o)=>{e.port1.onmessage=i=>{i.data.type==="pong"&&r()},setTimeout(o,1500)});return a.postMessage({message:{type:"ping"},port:e.port2},[e.port2]),t}function I(a,e){let t=new E(a,"bare-mux-worker");return e&&pe.addEventListener("message",r=>{if(r.data.type==="getPort"&&r.data.port){console.debug("bare-mux: recieved request for port from sw");let o=new E(a,"bare-mux-worker");r.data.port.postMessage(o.port,[o.port])}}),t.port}var O=class{constructor(e){this.channel=new BroadcastChannel("bare-mux"),e instanceof MessagePort?this.port=e:this.createChannel(e,!0)}createChannel(e,t){if(self.clients)this.port=P(),this.channel.onmessage=r=>{r.data.type==="refreshPort"&&(this.port=P())};else if(e&&E){if(!e.startsWith("/")&&!e.includes("://"))throw new Error("Invalid URL. Must be absolute or start at the root.");this.port=I(e,t),console.debug("bare-mux: setting localStorage bare-mux-path to",e),F["bare-mux-path"]=e}else if(E){let r=F["bare-mux-path"];if(console.debug("bare-mux: got localStorage bare-mux-path:",r),!r)throw new Error("Unable to get bare-mux workerPath from localStorage.");this.port=I(r,t)}else throw new Error("Unable to get a channel to the SharedWorker.")}async sendMessage(e,t){this.port instanceof Promise&&(this.port=await this.port);try{await B(this.port)}catch{return console.warn("bare-mux: Failed to get a ping response from the worker within 1.5s. Assuming port is dead."),this.createChannel(),await this.sendMessage(e,t)}let r=new MessageChannel,o=[r.port2,...t||[]],i=new Promise((s,n)=>{r.port1.onmessage=d=>{let l=d.data;l.type==="error"?n(l.error):s(l)}});return this.port.postMessage({message:e,port:r.port2},o),await i}};var fe="!#$%&'*+-.0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ^_`abcdefghijklmnopqrstuvwxyz|~";function we(a){for(let e=0;e<a.length;e++){let t=a[e];if(!fe.includes(t))return!1}return!0}var ue=["ws:","wss:"],ge=[101,204,205,304],me=[301,302,303,307,308];var C=class{constructor(e){this.worker=new O(e)}createWebSocket(e,t=[],r,o,i){try{e=new URL(e)}catch{throw new DOMException(`Faiiled to construct 'WebSocket': The URL '${e}' is invalid.`)}if(!ue.includes(e.protocol))throw new DOMException(`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${e.protocol}' is not allowed.`);Array.isArray(t)||(t=[t]),t=t.map(String);for(let c of t)if(!we(c))throw new DOMException(`Failed to construct 'WebSocket': The subprotocol '${c}' is invalid.`);let s=r||f,n=new s("ws://127.0.0.1:1",t),d="",l=b.CONNECTING,p=!1;n.addEventListener("error",c=>{p||(l=f.CONNECTING,c.stopImmediatePropagation(),p=!0)});let h=!1;n.addEventListener("close",c=>{h||(c.stopImmediatePropagation(),h=!0)}),i=i||s.constructor.constructor("return ArrayBuffer")().prototype,o=o||{},o.Host=new URL(e).host,o.Pragma="no-cache",o["Cache-Control"]="no-cache",o.Upgrade="websocket",o.Connection="Upgrade";let k=c=>{l=b.OPEN,d=c,n.meta={headers:{"sec-websocket-protocol":c}},n.dispatchEvent(new Event("open"))},X=async c=>{typeof c=="string"?n.dispatchEvent(new MessageEvent("message",{data:c})):"byteLength"in c?(n.binaryType==="blob"?c=new Blob([c]):Object.setPrototypeOf(c,i),n.dispatchEvent(new MessageEvent("message",{data:c}))):"arrayBuffer"in c&&(n.binaryType==="arraybuffer"&&(c=await c.arrayBuffer(),Object.setPrototypeOf(c,i)),n.dispatchEvent(new MessageEvent("message",{data:c})))},Z=(c,w)=>{l=b.CLOSED,n.dispatchEvent(new CloseEvent("close",{code:c,reason:w}))},q=()=>{l=b.CLOSED,n.dispatchEvent(new Event("error"))},m=new MessageChannel;m.port1.onmessage=c=>{c.data.type==="open"?k(c.data.args[0]):c.data.type==="message"?X(c.data.args[0]):c.data.type==="close"?Z(c.data.args[0],c.data.args[1]):c.data.type==="error"&&q()},this.worker.sendMessage({type:"websocket",websocket:{url:e.toString(),origin,protocols:t,requestHeaders:o,channel:m.port2}},[m.port2]);let U=()=>l;Object.defineProperty(n,"readyState",{get:U,configurable:!0,enumerable:!0});let ee=()=>{if(U()===b.CONNECTING)return new DOMException("Failed to execute 'send' on 'WebSocket': Still in CONNECTING state.")};return n.send=function(...c){let w=ee();if(w)throw w;let u=c[0];u.buffer&&(u=u.buffer),m.port1.postMessage({type:"data",data:u},u instanceof ArrayBuffer?[u]:[])},n.close=function(c,w){m.port1.postMessage({type:"close",closeCode:c,closeReason:w})},Object.defineProperty(n,"url",{get:()=>e.toString(),configurable:!0,enumerable:!0}),Object.defineProperty(n,"protocol",{get:()=>d,configurable:!0,enumerable:!0}),n}async fetch(e,t){let r=new de(e,t),o=t?.headers||r.headers,i=o instanceof Headers?Object.fromEntries(o):o,s=r.body,n=new URL(r.url);if(n.protocol.startsWith("blob:")){let d=await le(n),l=new R(d.body,d);return l.rawHeaders=Object.fromEntries(d.headers),l.rawResponse=d,l}for(let d=0;;d++){"host"in i?i.host=n.host:i.Host=n.host;let l=(await this.worker.sendMessage({type:"fetch",fetch:{remote:n.toString(),method:r.method,headers:i,body:s||void 0}},s?[s]:[])).fetch,p=new R(ge.includes(l.status)?void 0:l.body,{headers:new Headers(l.headers),status:l.status,statusText:l.statusText});p.rawHeaders=l.headers,p.rawResponse=new R(l.body),p.finalURL=n.toString();let h=t?.redirect||r.redirect;if(me.includes(p.status))switch(h){case"follow":{let k=p.headers.get("location");if(20>d&&k!==null){n=new URL(k,n);continue}else throw new TypeError("Failed to fetch")}case"error":throw new TypeError("Failed to fetch");case"manual":return p}else return p}}};var H="1.0.7-beta.1";var{assign:A}=Object,j="entries",S="readonly",N="readwrite",L={durability:"default",prefix:"IDBMap"},y=({target:{result:a}})=>a,x=class extends EventTarget{#t;#o;#r;async#e(e,t){let o=(await this.#t).transaction(j,t,this.#o);return new Promise((i,s)=>A(e(o.objectStore(j)),{onsuccess:i,onerror:s}))}constructor(e,{durability:t=L.durability,prefix:r=L.prefix}=L){super(),this.#r=r,this.#o={durability:t},this.#t=new Promise((o,i)=>{A(indexedDB.open(`${this.#r}/${e}`),{onupgradeneeded({target:{result:s,transaction:n}}){s.objectStoreNames.length||s.createObjectStore(j),n.oncomplete=()=>o(s)},onsuccess(s){o(y(s))},onerror(s){i(s),this.dispatchEvent(s)}})}).then(o=>{let i=this.dispatchEvent.bind(this);for(let s in o)s.startsWith("on")&&(o[s]=i);return o})}dispatchEvent(e){let{type:t,message:r,isTrusted:o}=e;return super.dispatchEvent(o?A(new Event(t),{message:r}):e)}async close(){(await this.#t).close()}get size(){return this.#e(e=>e.count(),S).then(y)}async clear(){await this.#e(e=>e.clear(),N)}async delete(e){await this.#e(t=>t.delete(e),N)}async entries(){let e=await this.keys();return Promise.all(e.map(t=>this.get(t).then(r=>[t,r])))}async forEach(e,t=this){for(let[r,o]of await this.entries())await e.call(t,o,r,this)}async get(e){return await this.#e(r=>r.get(e),S).then(y)}async has(e){return await this.#e(r=>r.getKey(e),S).then(y)!==void 0}async keys(){return await this.#e(t=>t.getAllKeys(),S).then(y)}async set(e,t){return await this.#e(r=>r.put(t,e),N),this}async values(){let e=await this.keys();return Promise.all(e.map(t=>this.get(t)))}get[Symbol.toStringTag](){return this.#r}};var M=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function G(a,e,t){let r=t||{},o=r.encode||encodeURIComponent;if(typeof o!="function")throw new TypeError("option encode is invalid");if(!M.test(a))throw new TypeError("argument name is invalid");let i=o(e);if(i&&!M.test(i))throw new TypeError("argument val is invalid");let s=a+"="+i;if(r.maxAge!==void 0&&r.maxAge!==null){let n=r.maxAge-0;if(Number.isNaN(n)||!Number.isFinite(n))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(n)}if(r.domain){if(!M.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!M.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if(!ye(r.expires)||Number.isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":{s+="; Priority=Low";break}case"medium":{s+="; Priority=Medium";break}case"high":{s+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:{s+="; SameSite=Strict";break}case"lax":{s+="; SameSite=Lax";break}case"strict":{s+="; SameSite=Strict";break}case"none":{s+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s}function ye(a){return Object.prototype.toString.call(a)==="[object Date]"||a instanceof Date}var _=ce(K(),1),T=new x("cookies");async function Y(a){let e=new Date,t=[];for(let o of await T.keys())if(o.startsWith(`${a}@`)){let i=!1,s=await T.get(o);s.set&&(s.maxAge?i=s.set+s.maxAge*1e3<e.getTime():s.expires&&(i=s.expires.getTime()<e.getTime())),i?await T.delete(o):t.push(s)}return t.map(o=>G(o.name,o.value,o))}async function J(a,e){let t=(0,_.parse)(a);for(let r of t)await T.set(`${e}@${r.name}`,{set:Date.now(),...r})}var Q=`
a,hr{color:inherit}progress,sub,sup{vertical-align:baseline}blockquote,body,dd,dl,fieldset,figure,h1,h2,h3,h4,h5,h6,hr,menu,ol,p,pre,ul{margin:0}dialog,fieldset,legend,menu,ol,ul{padding:0}*,::after,::before{box-sizing:border-box;border:0 solid #e5e7eb;--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{line-height:inherit}hr{height:0;border-top-width:1px}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}menu,ol,ul{list-style:none}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.mx-auto{margin-left:auto;margin-right:auto}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.flex{display:flex}.h-12{height:3rem}.min-h-[100dvh]{min-height:100dvh}.w-12{width:3rem}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.overflow-x-scroll{overflow-x:scroll}.rounded-md{border-radius:.375rem}.border{border-width:1px}.border-2{border-width:2px}.border-gray-800{--tw-border-opacity:1;border-color:rgb(31 41 55 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-gray-800,.hover:bg-gray-800:hover{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.bg-gray-900,.hover:bg-gray-900:hover{--tw-bg-opacity:1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.stroke-red-400{stroke:#f87171}.p-1.5{padding:.375rem}.p-4{padding:1rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-left{text-align:left}.text-center{text-align:center}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.tracking-tight{letter-spacing:-.025em}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39 / var(--tw-text-opacity))}.hover:text-white:hover,.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4,0,0.2,1);transition-duration:150ms}@media (min-width:640px){.sm:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm:text-4xl{font-size:2.25rem;line-height:2.5rem}}@media (min-width:1024px){.lg:px-8{padding-left:2rem;padding-right:2rem}}`;var W=class{client;constructor(){this.client=new C}shouldRoute({request:e}){return e.url.startsWith(location.origin+self.$meteor.config.prefix)}async handleFetch({request:e}){try{let t=new URL(self.$meteor.rewrite.url.decode(e.url));self.$meteor.util.log(`Processing request for ${t.href}`);for(let n of await self.$meteor.util.getEnabledPlugins(t.href))n.filter.test(t.href)&&self.$meteor.util.log(`Plugin ${n.name} loaded for this page`,"teal");if(t.href.startsWith("data:")){let n=await fetch(t);return new Response(n.body)}let r=new Headers(e.headers);r.set("cookie",(await Y(t.host)).join("; ")),r.set("host",t.host),r.set("origin",t.origin);let o=await this.client.fetch(t,{method:e.method,body:e.body,headers:r,credentials:"omit",mode:e.mode==="cors"?e.mode:"same-origin",cache:e.cache,redirect:e.redirect,duplex:"half"}),i,s=self.$meteor.rewrite.headers(o.headers,t);if(await J(o.rawHeaders["set-cookie"],t.host),o.body)switch(e.destination){case"iframe":case"frame":case"document":o.headers.get("content-type")?.includes("text/html")?i=await self.$meteor.rewrite.html(await o.text(),t):i=o.body;break;case"style":i=self.$meteor.rewrite.css(await o.text(),t);break;case"worker":case"sharedworker":case"script":i=self.$meteor.rewrite.js(await o.text(),t);break;default:i=o.body}if(["document","iframe"].includes(e.destination)){let n=o.headers.get("content-disposition");if(!/\s*?((inline|attachment);\s*?)filename=/i.test(n)){let d=/^\s*?attachment/i.test(n)?"attachment":"inline",[l]=o.finalURL.split("/").reverse();o.headers.set("Content-Disposition",`${d}; filename=${JSON.stringify(l)}`)}}for(let n of await self.$meteor.util.getEnabledPlugins(t.href,"onRequest"))self.$meteor.util.log(`Running onRequest for ${n.name}`,"teal"),o=await n.onRequest(o);return new Response(i,{headers:s,status:o.status,statusText:o.statusText})}catch(t){self.$meteor.util.log(t,"#FF5757");let r=self.$meteor.rewrite.url.decode(e.url);return this.renderError(t,r,H)}}renderError(e,t,r){return new Response(`
        <!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Something went wrong</title>
            <!-- generated with https://play.tailwindcss.com/ -->
            <style>${Q}</style>
          </head>
          <body>
            <div class="flex min-h-[100dvh] flex-col items-center justify-center bg-white px-4 py-12 sm:px-6 lg:px-8">
              <div class="mx-auto max-w-md text-center">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  class="mx-auto h-12 w-12 stroke-red-400"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"
                  ></path>
                </svg>
                <h1 class="mt-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
                  Something went wrong
                </h1>
                <p class="mt-4 text-gray-500">
                  Meteor ran into an error while processing your request.
                </p>
                <div class="mt-6 space-y-4">
                  <p class="mt-4 text-gray-500 text-left">URL: <span class="p-1.5 px-2 bg-gray-100 font-mono text-sm rounded-md">${t}</span></p>
                  <p class="mt-4 text-gray-500 text-left">Version: <span class="p-1.5 px-2 bg-gray-100 font-mono text-sm rounded-md">${r}</span></p>
                  <pre class="rounded-md bg-gray-100 p-4 text-left text-sm text-gray-500 overflow-x-scroll">${e}</pre>
                  <div class="flex space-x-2">
                    <button onclick="window.location.reload()" class="rounded-md border border-transparent bg-gray-100 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-gray-900 flex-1 transition-all">
                      Reload Page
                    </button>
                    <a href="https://github.com/meteorproxy/meteor/issues/new" target="_blank" class="rounded-md border-2 border-gray-800 px-4 py-2 text-sm font-medium text-gray-800 hover:bg-gray-800 hover:text-white flex-1 transition-all">
                      Report Error
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </body>
        </html>
      `,{status:500,headers:{"Content-Type":"text/html"}})}};self.MeteorServiceWorker=W;})();
//# sourceMappingURL=meteor.worker.js.map
